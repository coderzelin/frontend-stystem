### webpack

webpack 其实是一种模块打包机制，它可以分析你的应用并生成一个依赖关系图，最后打包成一个或多个 bundle

#### loader

因为 webpack 只能识别 js 文件和 json 文件，loaders 可以把其他类型的文件转化为 webpack 可以处理和识别的文件，这样就能把这些文件添加到应用的依赖关系图上，loaders 的加载顺序是从右到左，从下到上。

loaders 的三种使用方式：

- 配置文件（推荐），在 webpack.config.js 文件声明
- 内联方式，通过在每个 import 语句声明，通过 ! 连接
- cli，通过命令行声明

#### plugins

plugins 就是可以扩展 loader 的功能，实现 loader 不能实现的功能。plugins 是一个有 apply 方法的 js 对象，apply 方法会被 webpack complier 调用，并且在 webpack compilation 的整个生命周期都能访问到 plugins

```js
const pluginName = "ConsoleLogOnBuildWebpackPlugin";

class ConsoleLogOnBuildWebpackPlugin {
  apply(compiler) {
    compiler.hooks.run.tap(pluginName, (compilation) => {
      console.log("The webpack build process is starting!!!");
    });
  }
}

module.exports = ConsoleLogOnBuildWebpackPlugin;
```

tap 方法的第一个参数是 plugins 的名字

#### HMR

当应用运行时，HMR 可以改变，添加，删除模块，可以通过以下方式提升开发效率

- 保留在重新刷新页面后的状态
- 只更新改变的代码
- 在源代码中改变 css/js 代码可以直接更新浏览器

应用程序的 HMR 的步骤如下：

- 应用程序让 HMR runtime 去查看是否有更新
- HMR runtime 会异步的去更新代码，并且通知应用程序
- 应用程序会让 HMR runtime 去使用更新的代码
- HMR runtime 会同步的采用更新的代码




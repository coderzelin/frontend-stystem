### react key

React 通过比较子元素的 key 属性，判断该元素是新增，移动，删除，替换。从而优化 diff 的比较。key 要保证在相邻的子元素中唯一，如果使用 index 作为 key 会导致重新排序，新增子元素的时候出现问题

---

### 受控组件 vs 非受控组件

非受控组件也就是不用 value 去控制表单的值，就想传统的表单，如果你想获取表单的值，就可以通过 ref 去获取表单的值，可以通过 defaultValue 设置非受控组件的默认值。

受控组件需要通过 value 和 onChange 去控制表单的值，value 代表表单最新的值，数据和 ui 同步更改

非受控组件可以应用在表单只是单纯的展示值，如果表单的值需要校验，通过判断表单的有效值去禁用按钮，或者表单的值需要一定格式这些复杂的场景就需要使用受控组件

---

### Hooks

- 解决 react 复用逻辑的问题，以前复用逻辑使用的是 render props 和 hoc ，但这两种方式会让 react 组件嵌套的更深，导致看起来很臃肿，hooks 可以提取出复用的逻辑，这样可以更好的复用和测试，并且不用改变组件的嵌套结构
- 解决生命周期混乱的问题，class 组件中副作用会写在生命周期中，但是会把多种不同的逻辑写在同一个生命周期中，这样会造成结构不清晰，而且出现 bug 难以定位，hooks 可以把不同的逻辑写在不同的副作用钩子中。
- 解决 class 组件的难以理解的 this 问题，在 class 组件需要处理事件处理函数的 this 指向问题，需要手动 bind this，或者使用箭头函数等方法去处理 this 指向的问题，这些很容易被忽略；hooks 使用函数组件的写法，所以可以不用处理复杂的 this 指向问题